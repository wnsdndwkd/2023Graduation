{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Line}from'react-chartjs-2';import io from'socket.io-client';const socket=io('http://localhost:3000');// 소켓 연결\nconst App=()=>{// const [data, setData] = useState([]);\n// const [chartData, setChartData] = useState({});\n// 버튼 클릭 핸들러 - 서버로 데이터 요청\n// const fetchData = () => {\n//   socket.emit('getData'); // 서버에 데이터 요청 이벤트 전송\n// };\nuseEffect(()=>{socket.connect(()=>{console.log(\" << SERVER CONNECT >>\");});socket.on(\"error\",error=>{console.error(error);});socket.on('Vehicle_Info_Web',receivedData=>{console.log(receivedData);// setData(receivedData);\n// const chart = {\n//   labels: receivedData.map((item, index) => index + 1),\n//   datasets: [\n//     {\n//       label: 'Data',\n//       data: receivedData.map((item) => item.value),\n//       fill: false,\n//       borderColor: 'rgb(75, 192, 192)',\n//       tension: 0.1,\n//     },\n//   ],\n// };\n// setChartData(chart);\n});},[]);// 서버로부터 데이터 수신\n// return (\n//   <div>\n//     <button onClick={fetchData}>데이터 가져오기</button>\n//     <div>\n//       {chartData && <Line data={chartData} />}\n//     </div>\n//   </div>\n// );\n};export default App;","map":{"version":3,"names":["React","useState","useEffect","Line","io","socket","App","connect","console","log","on","error","receivedData"],"sources":["/home/junung/git/2023Graduation/src/web/src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Line } from 'react-chartjs-2';\nimport io from 'socket.io-client';\n\nconst socket = io('http://localhost:3000'); // 소켓 연결\n\nconst App = () => {\n  // const [data, setData] = useState([]);\n  // const [chartData, setChartData] = useState({});\n\n  // 버튼 클릭 핸들러 - 서버로 데이터 요청\n  // const fetchData = () => {\n  //   socket.emit('getData'); // 서버에 데이터 요청 이벤트 전송\n  // };\n\n  useEffect(() => {\n    socket.connect(() => {\n      console.log(\" << SERVER CONNECT >>\");\n    });\n\n    socket.on(\"error\", (error) =>{\n      console.error(error);\n    })\n    socket.on('Vehicle_Info_Web', (receivedData) => {\n      console.log(receivedData);\n      // setData(receivedData);\n  \n      // const chart = {\n      //   labels: receivedData.map((item, index) => index + 1),\n      //   datasets: [\n      //     {\n      //       label: 'Data',\n      //       data: receivedData.map((item) => item.value),\n      //       fill: false,\n      //       borderColor: 'rgb(75, 192, 192)',\n      //       tension: 0.1,\n      //     },\n      //   ],\n      // };\n      // setChartData(chart);\n    });\n  }, []);\n\n  // 서버로부터 데이터 수신\n\n  // return (\n  //   <div>\n  //     <button onClick={fetchData}>데이터 가져오기</button>\n  //     <div>\n  //       {chartData && <Line data={chartData} />}\n  //     </div>\n  //   </div>\n  // );\n};\n\nexport default App;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,iBAAiB,CACtC,MAAO,CAAAC,EAAE,KAAM,kBAAkB,CAEjC,KAAM,CAAAC,MAAM,CAAGD,EAAE,CAAC,uBAAuB,CAAC,CAAE;AAE5C,KAAM,CAAAE,GAAG,CAAGA,CAAA,GAAM,CAChB;AACA;AAEA;AACA;AACA;AACA;AAEAJ,SAAS,CAAC,IAAM,CACdG,MAAM,CAACE,OAAO,CAAC,IAAM,CACnBC,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC,CACtC,CAAC,CAAC,CAEFJ,MAAM,CAACK,EAAE,CAAC,OAAO,CAAGC,KAAK,EAAI,CAC3BH,OAAO,CAACG,KAAK,CAACA,KAAK,CAAC,CACtB,CAAC,CAAC,CACFN,MAAM,CAACK,EAAE,CAAC,kBAAkB,CAAGE,YAAY,EAAK,CAC9CJ,OAAO,CAACC,GAAG,CAACG,YAAY,CAAC,CACzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACF,CAAC,CAED,cAAe,CAAAN,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}